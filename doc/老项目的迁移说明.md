# 老项目的迁移说明

大家首次接触 NEI 后，很自然会产生这样的疑问：怎么把老项目迁移到 NEI 上来？

这个问题可能包括以下方面:

* 管理异步接口
* 管理数据模型
* 管理页面
* 管理页面模板(ftl、ejs等)
* 如何使用本地模拟容器？
* 如何使用工程规范？ 是不是需要把老项目中的所有文件上传到 NEI？
* 可能还有其他 NEI 中的功能

首先，没有银弹，NEI 没有一键导入项目然后把异步接口和数据模型等资源都准确提取出来的功能。

那是不是无法迁移老项目了？ 不是这样的，下面介绍一下迁移时需要注意的地方。


### 异步接口、页面及页面模板

目前还没有很好的办法，只能手工将异步接口和数据模型等信息录入到 NEI 系统中。一种方法是从生成的 Java doc 文件中提取信息，这个方向可以尝试一下。


### 数据模型

一种就是大家熟悉的 JavaBean，由于 JavaBean 的格式较为固定，所以 NEI 已经提供了从 JavaBean 中提取属性的工具。在创建数据模型的按钮点击选择从文件或者文件夹导入 JavaBean 文件即可，也可以在创建页面导入 JavaBean 文件。


### 本地模拟容器

这个功能的前提是所有资源(或者是开发某个功能必需的资源)都在 NEI 创建完毕，此时才可以使用本构建工具提供的本地模拟容器。


### 工程规范

最让人困惑的可能就是工程规范了：需要把老项目中的所有文件上传到 NEI 吗？

**答案是不需要!**

那么你可能又会问：mock 数据在哪里？ 新生成的模板文件在哪里？

首先要明白一点，本构建工具的本质其实是按照 NEI 上的资源定义，自动新生成一些文件到指定的输出目录。

所以，假如只想要 mock 数据并想放在老项目的某个目录中，可以这么做：新建一个规范，按老项目的目录结构创建目标文件夹即可。

比如，现想把异步接口的 mock 数据放到老项目的 `/src/interface.mock` 目录下(注意，构建工具是不管这个目录存在还是不存在的)，那可以在规范里面按前述路径创建好 `/src/interface.mock` 文件夹，并选择文件夹标识为“接口MOCK数据根目录”，使用 `nei build` 并指定输出的根目录为老项目所在目录，构建完成后就会在老项目中看到新生成的异步接口的 mock 数据了。

关于工程规范的更多说明请这个文档：[NEI 工程规范介绍](./工程规范介绍.md)





